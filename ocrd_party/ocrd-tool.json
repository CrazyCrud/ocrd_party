{
  "git_url": "https://github.com/CrazyCrud/ocrd_party",
  "dockerhub": "ocrd/party",
  "version": "0.1.0",
  "tools": {
    "ocrd-party-recognize": {
      "executable": "ocrd-party-recognize",
      "categories": [
        "Text recognition and optimization"
      ],
      "steps": [
        "recognition/text-recognition"
      ],
      "description": "Recognize text lines with the Party OCR engine",
      "input_file_grp_cardinality": 1,
      "output_file_grp_cardinality": 1,
      "parameters": {
        "model": {
          "description": "Party model (path or URI to model.safetensors or a directory containing it)",
          "type": "string",
          "format": "uri",
          "required": true
        },
        "device": {
          "description": "Compute device (e.g. 'cpu' or 'cuda:0') for inference",
          "type": "string",
          "default": "cpu"
        },
        "batch_size": {
          "description": "Number of lines to recognize in parallel batches",
          "type": "integer",
          "format": "int32",
          "default": 4
        },
        "autocast": {
          "description": "Enable mixedâ€‘precision (if supported by device)",
          "type": "boolean",
          "default": false
        },
        "features": {
          "description": "PAGE/@AlternativeImage feature selector",
          "type": "string",
          "default": ""
        },
        "text_direction": {
          "description": "Principal text direction for reading order",
          "type": "string",
          "enum": [
            "horizontal-lr",
            "horizontal-rl",
            "vertical-lr",
            "vertical-rl"
          ],
          "default": "horizontal-lr"
        },
        "textequiv_level": {
          "description": "Lowest PAGE level to store recognition results",
          "type": "string",
          "enum": ["line", "word"],
          "default": "line"
        },
        "add_lang_token": {
          "description": "Add language token to Party prompts (if model supports it)",
          "type": "boolean",
          "default": false
        },
        "languages": {
          "description": "Language codes for conditioning Party (optional)",
          "type": "array",
          "items": { "type": "string" },
          "default": []
        },
        "compile": {
          "description": "Use torch.compile for the model",
          "type": "boolean",
          "default": false
        },
        "quantize": {
          "description": "Apply torchao auto-quantization",
          "type": "boolean",
          "default": false
        },
        "debug_dir": {
          "description": "Directory to write per-line debug crops (optional)",
          "type": "string",
          "default": ""
        }
      },
      "resources": []
    }
  }
}